<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>PLAY Survey Data -</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "clean"
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>


<link rel="stylesheet" href="include/css/styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">PLAY Survey Data</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./setup.html"> 
<span class="menu-text">background</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-screening" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">screening</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-screening">    
        <li>
    <a class="dropdown-item" href="./gathering-screening.html">
 <span class="dropdown-text">Collection protocol</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#collection-protocol" id="toc-collection-protocol" class="nav-link active" data-scroll-target="#collection-protocol">Collection protocol</a>
  <ul class="collapse">
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup">Setup</a></li>
  </ul></li>
  <li><a href="#retrieve-from-kobotoolbox-kbt" id="toc-retrieve-from-kobotoolbox-kbt" class="nav-link" data-scroll-target="#retrieve-from-kobotoolbox-kbt">Retrieve from KoBoToolbox (KBT)</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/PLAY-behaviorome/KoBoToolbox/edit/main/src/gathering-screening.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/PLAY-behaviorome/KoBoToolbox/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="collection-protocol" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="collection-protocol">Collection protocol</h2>
<p>Details about the data collection <a href="https://www.play-project.org/collection.html#Participant_Recruitment">protocol for participant screening and recruiting</a> can be found on the <a href="https://play-project.org">PLAY Project website</a>.</p>
<section id="setup" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="setup">Setup</h3>
<p>Load functions needed to download KBT screening/demographic questionnaire files.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>fl <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="fu">file.path</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">"R"</span>), <span class="st">"^kobo_|^file_"</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>purrr<span class="sc">::</span><span class="fu">walk</span>(fl, source)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="retrieve-from-kobotoolbox-kbt" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="retrieve-from-kobotoolbox-kbt">Retrieve from KoBoToolbox (KBT)</h2>
<p>We make use of the <code>targets</code> package for downloading data files from KoBoToolbox and for saving local XLSX and CSV copies. This allows us to download and process those files on a regular basis.</p>
<p>This excerpt from <code>_targets.R</code> shows two of these ‘targets’:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Download screening/demographic survey</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tar_target</span>(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    kb_screen_df,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kobo_list_data_filtered</span>(kb_df, <span class="st">"[Dd]emographic"</span>),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">cue =</span> tarchetypes<span class="sc">::</span><span class="fu">tar_cue_age</span>(</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> kb_screen,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">age =</span> <span class="fu">as.difftime</span>(update_interval, <span class="at">units =</span> update_interval_units)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tar_target</span>(</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    screen_download,</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">screen_download_convert</span>(kb_screen_df, <span class="st">"data/xlsx/screening"</span>, <span class="st">"data/csv/screening"</span>),</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">cue =</span> tarchetypes<span class="sc">::</span><span class="fu">tar_cue_age</span>(</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> screen_df,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">age =</span> <span class="fu">as.difftime</span>(update_interval, <span class="at">units =</span> update_interval_units)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  ),</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>kb_df</code> data frame is input to the first target <code>kb_screen_df</code>. <code>kb_df</code> is generated when the following target is generated (by <code>kobo_list_data()</code>).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tar_target</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    kb_df,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kobo_list_data</span>(),</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cue =</span> tarchetypes<span class="sc">::</span><span class="fu">tar_cue_age</span>(</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> kb_df,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">age =</span> <span class="fu">as.difftime</span>(update_interval, <span class="at">units =</span> update_interval_units)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  ),</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The following code shows how this works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># for the `magrittr` pipe `%&gt;%`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>fl <span class="ot">&lt;-</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list.files</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"../R"</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"^kobo_|^file_|^screen_|^ecbq_|^health_|^databrary|^home|^make|^export|^post_visit|CONSTANTS"</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">full.names =</span> <span class="cn">TRUE</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>purrr<span class="sc">::</span><span class="fu">walk</span>(fl, source)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="fu">kobo_list_data</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        id              id_string
1   411456 a58ZhjX6M8WXtzLGvBaEaG
2   920365 a6r99tj8RaULvzTM7MuWpi
3   740625 a8HyzdxnVjK53dt4fX3Vup
4  1129568 a9n2DWjJw3ayJmkijsAm7h
5   331453 aae4wz2tpkSnAkea2PAzin
6   363465 abYGMsrMvkGsnA4xm9kqC9
7   363431 acCBJaRqBkSMPYdvaaWCSu
8   334099 ad3NtS6TDPuKTUKCAyCuby
9   363349 aEMERWLYQAdhaMKMt5QkD7
10  307736 aeMJQLo56HWyVHkKX9oaJD
11  334134 agChfbnGHc6fiUdfYUaZ2z
12  346565 aGD5Q64T5zTQtakQaS8x55
13  359546 aGLEqT7eRBhuPgizCQBeqA
14  740631 ahYJ7XRUcit8gbFYwaxnAV
15  361981 aJNWkgeX7c9jEFiNAgJspn
16  738593 aJPU78BR3NfU9rm4LzRVLt
17 1151489 aLqdPLTCZb8jvFkDxcFwzy
18  920339 aLxPNje5yoeZijafFoVz5z
19  738513 aM2ob4BdwFucdjjcUNTwms
20 1136694 aMteoHisncRUStdyZfsjMB
21  275882 anqhvxKtQieo7gc9uPqJ3y
22  740623 aoLcmmN8KWG4N6A3XpUiRT
23  740628 aRJW7SwKsVyZu8b4FighiM
24  363466 asv7tL6CEYjiW2XCkLxhcX
25  411469 aswcEAtxj24u9MfuBmS9AW
26  740630 aThMD6zuEFjtTfptwcpZPg
27  411388 aTyGBYk6HvRXmki9ksb29p
28  740624 aUeYzPfq6WED4dDF28VT9D
29  363381 aWd7wujF5d5HYaYMhT4jBZ
30  740626 awMnFDna5kWR3LXKyGmFMd
31  331848 axYbEbLcJxzUNFbqMVySjJ
32  740629 axyJSgLRDeSk3BHB6cJmYk
33  408149 ayhCy68ZTaDGc7tuGthQpJ
34  740627 aYokcZAjTZ9JCyVXz4R5rh
                                                                     title
1              PLAY Home Questionaires - 12 Bilingual English (2020-03-04)
2                                                 NYU_Pilot DLL-ES_Level_2
3                                        PLAY_HomeQuestionaires_12_English
4                                        Clone of NYU_Pilot DLL-ES_Level_1
5                                    PLAY Home Questionnaires (24 English)
6             PLAY Home Questionnaires - 24 Bilingual English (2020-03-04)
7                       PLAY Home Questionnaires - 12 English (2020-03-04)
8                        PLAY Home Questionnaires (12 Bilingual - English)
9                       PLAY Home Questionnaires - 18 English (2020-03-04)
10                                   PLAY Home Questionnaires (18 English)
11                                PLAY Demographic Questionnaire (Spanish)
12                                                   PLAY Post-Visit Notes
13                                          PLAY Demographic Questionnaire
14                             PLAY_HomeQuestionaires_24_Bilingual_English
15                                                   PLAY Post-Visit Notes
16                                                DLL-ES_Level_2 (English)
17 Clone of Clone of PLAY_HomeQuestionnaires_18_English - NO AUTO METADATA
18                                                NYU_Pilot DLL-ES_Level_1
19                                               DLL-ES_Level_1_2021_07_30
20             Clone of PLAY_HomeQuestionnaires_18_English - NO AUTO TODAY
21                                          PLAY Demographic Questionnaire
22                             PLAY_HomeQuestionaires_12_Bilingual_English
23                                      PLAY_HomeQuestionnaires_18_English
24            PLAY Home Questionnaires - 18 Bilingual English (2020-03-04)
25            PLAY Home Questionnaires - 12 Bilingual Spanish (2020-03-04)
26                             PLAY_HomeQuestionaires_24_Bilingual_Spanish
27            PLAY Home Questionnaires - 18 Bilingual Spanish (2020-03-04)
28                             PLAY_HomeQuestionaires_12_Bilingual_Spanish
29                      PLAY Home Questionnaires - 24 English (2020-03-04)
30                             PLAY_HomeQuestionaires_18_Bilingual_English
31                                   PLAY Home Questionnaires (12 English)
32                                      PLAY_HomeQuestionnaires_24_English
33            PLAY Home Questionnaires - 24 Bilingual Spanish (2020-03-04)
34                             PLAY_HomeQuestionaires_18_Bilingual_Spanish
                                                               description
1            PLAY Home Questionaires - 12 Bilingual (English) (2020-03-04)
2                                                 NYU_Pilot DLL-ES_Level_2
3                             PLAY_HomeQuestionaires_12_English-2021-07-29
4                                        Clone of NYU_Pilot DLL-ES_Level_1
5                                    PLAY Home Questionnaires (24 English)
6             PLAY Home Questionnaires - 24 Bilingual English (2019-11-20)
7                       PLAY Home Questionnaires - 12 English (2019-11-20)
8                        PLAY Home Questionnaires (12 Bilingual - English)
9                       PLAY Home Questionnaires - 18 English (2018-11-20)
10                                   PLAY Home Questionnaires (18 English)
11                                PLAY Demographic Questionnaire (Spanish)
12                                              PLAY Cleanup Checklists v2
13                                           New Demographic Questionnaire
14                  PLAY_HomeQuestionaires_24_Bilingual_English-2021-07-30
15                                      PLAY Post-Visit Notes (2019-11-18)
16                                          DLL-ES_Level_2_KBTB_2021_07_28
17 Clone of Clone of PLAY_HomeQuestionnaires_18_English - NO AUTO METADATA
18                                                NYU_Pilot DLL-ES_Level_1
19                                               DLL-ES_Level_1_2021_07_28
20                             Clone of PLAY_HomeQuestionnaires_18_English
21                                                PLAY Phone Questionnaire
22                  PLAY_HomeQuestionaires_12_Bilingual_English-2021-07-29
23                           PLAY_HomeQuestionnaires_18_English-2021-07-29
24            PLAY Home Questionnaires - 18 Bilingual English (2019-11-20)
25            PLAY Home Questionnaires - 12 Bilingual Spanish (2020-03-04)
26                  PLAY_HomeQuestionaires_24_Bilingual_Spanish-2021-07-30
27            PLAY Home Questionnaires - 18 Bilingual Spanish (2020-03-04)
28                  PLAY_HomeQuestionaires_12_Bilingual_Spanish-2021-07-29
29                      PLAY Home Questionnaires - 24 English (2019-11-20)
30                  PLAY_HomeQuestionaires_18_Bilingual_English-2021-07-29
31                                   PLAY Home Questionnaires (12 English)
32                           PLAY_HomeQuestionnaires_24_English-2021-07-30
33            PLAY Home Questionnaires - 24 Bilingual Spanish (2020-02-27)
34                  PLAY_HomeQuestionaires_18_Bilingual_Spanish-2021-07-29
                                              url
1   https://kc.kobotoolbox.org/api/v1/data/411456
2   https://kc.kobotoolbox.org/api/v1/data/920365
3   https://kc.kobotoolbox.org/api/v1/data/740625
4  https://kc.kobotoolbox.org/api/v1/data/1129568
5   https://kc.kobotoolbox.org/api/v1/data/331453
6   https://kc.kobotoolbox.org/api/v1/data/363465
7   https://kc.kobotoolbox.org/api/v1/data/363431
8   https://kc.kobotoolbox.org/api/v1/data/334099
9   https://kc.kobotoolbox.org/api/v1/data/363349
10  https://kc.kobotoolbox.org/api/v1/data/307736
11  https://kc.kobotoolbox.org/api/v1/data/334134
12  https://kc.kobotoolbox.org/api/v1/data/346565
13  https://kc.kobotoolbox.org/api/v1/data/359546
14  https://kc.kobotoolbox.org/api/v1/data/740631
15  https://kc.kobotoolbox.org/api/v1/data/361981
16  https://kc.kobotoolbox.org/api/v1/data/738593
17 https://kc.kobotoolbox.org/api/v1/data/1151489
18  https://kc.kobotoolbox.org/api/v1/data/920339
19  https://kc.kobotoolbox.org/api/v1/data/738513
20 https://kc.kobotoolbox.org/api/v1/data/1136694
21  https://kc.kobotoolbox.org/api/v1/data/275882
22  https://kc.kobotoolbox.org/api/v1/data/740623
23  https://kc.kobotoolbox.org/api/v1/data/740628
24  https://kc.kobotoolbox.org/api/v1/data/363466
25  https://kc.kobotoolbox.org/api/v1/data/411469
26  https://kc.kobotoolbox.org/api/v1/data/740630
27  https://kc.kobotoolbox.org/api/v1/data/411388
28  https://kc.kobotoolbox.org/api/v1/data/740624
29  https://kc.kobotoolbox.org/api/v1/data/363381
30  https://kc.kobotoolbox.org/api/v1/data/740626
31  https://kc.kobotoolbox.org/api/v1/data/331848
32  https://kc.kobotoolbox.org/api/v1/data/740629
33  https://kc.kobotoolbox.org/api/v1/data/408149
34  https://kc.kobotoolbox.org/api/v1/data/740627
                                                              form_url
1  https://kf.kobotoolbox.org/api/v2/assets/a58ZhjX6M8WXtzLGvBaEaG.xls
2  https://kf.kobotoolbox.org/api/v2/assets/a6r99tj8RaULvzTM7MuWpi.xls
3  https://kf.kobotoolbox.org/api/v2/assets/a8HyzdxnVjK53dt4fX3Vup.xls
4  https://kf.kobotoolbox.org/api/v2/assets/a9n2DWjJw3ayJmkijsAm7h.xls
5  https://kf.kobotoolbox.org/api/v2/assets/aae4wz2tpkSnAkea2PAzin.xls
6  https://kf.kobotoolbox.org/api/v2/assets/abYGMsrMvkGsnA4xm9kqC9.xls
7  https://kf.kobotoolbox.org/api/v2/assets/acCBJaRqBkSMPYdvaaWCSu.xls
8  https://kf.kobotoolbox.org/api/v2/assets/ad3NtS6TDPuKTUKCAyCuby.xls
9  https://kf.kobotoolbox.org/api/v2/assets/aEMERWLYQAdhaMKMt5QkD7.xls
10 https://kf.kobotoolbox.org/api/v2/assets/aeMJQLo56HWyVHkKX9oaJD.xls
11 https://kf.kobotoolbox.org/api/v2/assets/agChfbnGHc6fiUdfYUaZ2z.xls
12 https://kf.kobotoolbox.org/api/v2/assets/aGD5Q64T5zTQtakQaS8x55.xls
13 https://kf.kobotoolbox.org/api/v2/assets/aGLEqT7eRBhuPgizCQBeqA.xls
14 https://kf.kobotoolbox.org/api/v2/assets/ahYJ7XRUcit8gbFYwaxnAV.xls
15 https://kf.kobotoolbox.org/api/v2/assets/aJNWkgeX7c9jEFiNAgJspn.xls
16 https://kf.kobotoolbox.org/api/v2/assets/aJPU78BR3NfU9rm4LzRVLt.xls
17 https://kf.kobotoolbox.org/api/v2/assets/aLqdPLTCZb8jvFkDxcFwzy.xls
18 https://kf.kobotoolbox.org/api/v2/assets/aLxPNje5yoeZijafFoVz5z.xls
19 https://kf.kobotoolbox.org/api/v2/assets/aM2ob4BdwFucdjjcUNTwms.xls
20 https://kf.kobotoolbox.org/api/v2/assets/aMteoHisncRUStdyZfsjMB.xls
21 https://kf.kobotoolbox.org/api/v2/assets/anqhvxKtQieo7gc9uPqJ3y.xls
22 https://kf.kobotoolbox.org/api/v2/assets/aoLcmmN8KWG4N6A3XpUiRT.xls
23 https://kf.kobotoolbox.org/api/v2/assets/aRJW7SwKsVyZu8b4FighiM.xls
24 https://kf.kobotoolbox.org/api/v2/assets/asv7tL6CEYjiW2XCkLxhcX.xls
25 https://kf.kobotoolbox.org/api/v2/assets/aswcEAtxj24u9MfuBmS9AW.xls
26 https://kf.kobotoolbox.org/api/v2/assets/aThMD6zuEFjtTfptwcpZPg.xls
27 https://kf.kobotoolbox.org/api/v2/assets/aTyGBYk6HvRXmki9ksb29p.xls
28 https://kf.kobotoolbox.org/api/v2/assets/aUeYzPfq6WED4dDF28VT9D.xls
29 https://kf.kobotoolbox.org/api/v2/assets/aWd7wujF5d5HYaYMhT4jBZ.xls
30 https://kf.kobotoolbox.org/api/v2/assets/awMnFDna5kWR3LXKyGmFMd.xls
31 https://kf.kobotoolbox.org/api/v2/assets/axYbEbLcJxzUNFbqMVySjJ.xls
32 https://kf.kobotoolbox.org/api/v2/assets/axyJSgLRDeSk3BHB6cJmYk.xls
33 https://kf.kobotoolbox.org/api/v2/assets/ayhCy68ZTaDGc7tuGthQpJ.xls
34 https://kf.kobotoolbox.org/api/v2/assets/aYokcZAjTZ9JCyVXz4R5rh.xls</code></pre>
</div>
</div>
<!-- ### Download {-} -->
<!-- We have two targets specified in `_targets.R` that handle the regular downloading of screening data files. -->
<!-- First, we generate a data frame of KoBoToolbox forms that contain the screening ("Demographic") data. -->
<!-- Here is the target for that process: -->
<!-- ``` -->
<!-- # Not evaluated -->
<!--   tar_target( -->
<!--     kb_screen_df, -->
<!--     kobo_list_data_filtered("[Dd]emographic"), -->
<!--     cue = tarchetypes::tar_cue_age( -->
<!--       name = kb_screen, -->
<!--       age = as.difftime(update_interval, units = update_interval_units) -->
<!--     ) -->
<!--   ), -->
<!-- ``` -->
<!-- Then we download and save the raw XLSX files to `../data/xlsx/screening` using `kobo_retrieve_save_many_xlsx(kb_screen_df, save_dir = "../data/xlsx/screening")`. -->
<!-- Finally, we convert the XLSX files to CSVs via `file_load_xlsx_save_many_csv("../data/xlsx/screening", "../data/csv/screening", "Demographic")`. -->
<!-- The latter two steps are handled by the wrapper function `screen_download_convert(kb_screen_df, "data/xlsx/screening", "data/csv/screening")`. -->
<!-- Here is the accompanying target: -->
<!-- ``` -->
<!-- # Download screening/demographic survey -->
<!--   tar_target( -->
<!--     screen_download, -->
<!--     screen_download_convert(kb_screen_df, "data/xlsx/screening", "data/csv/screening"), -->
<!--     cue = tarchetypes::tar_cue_age( -->
<!--       name = screen_df, -->
<!--       age = as.difftime(update_interval, units = update_interval_units) -->
<!--     ) -->
<!--   ), -->
<!-- ``` -->
<section id="survey-questions" class="level4">
<h4 class="anchored" data-anchor-id="survey-questions">Survey questions</h4>
<p>The form for the survey questions can be downloaded from the following URL:</p>
<p><a href="https://kf.kobotoolbox.org/api/v2/assets/aGLEqT7eRBhuPgizCQBeqA.xls" class="uri">https://kf.kobotoolbox.org/api/v2/assets/aGLEqT7eRBhuPgizCQBeqA.xls</a></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/PLAY-behaviorome/KoBoToolbox/edit/main/src/gathering-screening.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/PLAY-behaviorome/KoBoToolbox/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>