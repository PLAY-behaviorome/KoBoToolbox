# Language visualizations {-}

```{r}
if (!('home_visit_df' %in% ls())) {
  targets::tar_load(home_visit_df, store="../_targets")
}
```

## Language exposure {-}

```{r clean-lang-df}
df <- home_visit_df |>
  dplyr::mutate(language_child = stringr::str_replace_all(language_child, " ", "_"))
xtabs(formula = ~ child_sex + language_child, data = df)
```

## MB-CDI {-}

### 12-mo-old English speakers {-}

```{r}
eng_12 <-
  readr::read_csv(
    "../data/csv/home_visit/agg/mcdi_english_12_combined.csv",
    col_types = readr::cols(.default = 'c'),
    show_col_types = FALSE
  )
```

There are $n=$ `r dim(eng_12)[1]` participant records.

```{r mcdi-12-english}
eng_12_long <- eng_12 |>
  tidyr::pivot_longer(cols = !play_id,
                        names_to = "word",
                        values_to = "understands_or_says")

xtabs(~ word + understands_or_says, eng_12_long)
```


### 18-mo-old English speakers {-}

```{r}
eng_18 <-
  readr::read_csv(
    "../data/csv/home_visit/agg/mcdi_english_18_combined.csv",
    col_types = readr::cols(.default = 'c'),
    show_col_types = FALSE
  )
```

There are $n=$ `r dim(eng_18)[1]` participant records.

```{r mcdi-18-english}
eng_18_long <- eng_18 |>
  tidyr::pivot_longer(cols = !play_id,
                        names_to = "word",
                        values_to = "says")

xtabs(~ word + says, eng_18_long)
```

### 24-mo-old English speakers {-}

```{r}
eng_24 <-
  readr::read_csv(
    "../data/csv/home_visit/agg/mcdi_english_24_combined.csv",
    col_types = readr::cols(.default = 'c'),
    show_col_types = FALSE
  )
```

There are $n=$ `r dim(eng_24)[1]` participant records.

```{r mcdi-24-english}
eng_24_long <- eng_24 |>
  tidyr::pivot_longer(cols = !play_id,
                        names_to = "word",
                        values_to = "says")

xtabs(~ word + says, eng_24_long)
```